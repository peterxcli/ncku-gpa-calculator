(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3729)}])},3729:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return O}});var a=t(5893),n=t(7294),s=t(3156),o=t(3321),l=t(3903),c=t(5819),i=t(1163),d=t(9583),u=t(7632),h=t(9008),x=t.n(h),p=t(9253),j=t(5310),y=t(4195),m=t(3023),f=t(5358),g=t(4888),v=t(9264),P=t(6880),Z=t(7446),w=e=>{let{records:r}=e,[t,s]=(0,n.useState)([]);return(0,n.useEffect)(()=>{let e=[];for(let t in r)for(let a in r[t]){let n=0,s=0,o=0,l=r[t][a];for(let e of l||[])n+=e.score,s+=(0,Z._)(e.score)*e.credit,o+=e.credit;l&&l.length>0&&e.push({semester:"".concat(t," ").concat(a),averageScore:n/l.length,averageGPA:s/o})}s(e)},[r]),(0,a.jsx)(p.h,{width:"100%",height:"100%",children:(0,a.jsxs)(j.w,{data:t,margin:{top:5,right:5,left:5,bottom:5},children:[(0,a.jsx)(y.q,{strokeDasharray:"3 3"}),(0,a.jsx)(m.K,{dataKey:"semester"}),(0,a.jsx)(f.B,{}),(0,a.jsx)(g.u,{}),(0,a.jsx)(v.D,{}),(0,a.jsx)(P.x,{type:"monotone",dataKey:"averageScore",stroke:"#8884d8",name:"Average Score"}),(0,a.jsx)(P.x,{type:"monotone",dataKey:"averageGPA",stroke:"#82ca9d",name:"Average GPA"})]})})},A=t(7281),C=t.n(A);function _(e){return"string"==typeof e.id&&"string"==typeof e.name&&"number"==typeof e.score&&"number"==typeof e.credit}var b=t(657),k=t(7645),N=t(6514),S=t(8951),G=t(1425),D=t(5511);let E=e=>{let{modalOpen:r,handleOpen:t,handleClose:s,current_data:l,overwriteRecordFunc:c}=e,[i,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(""),x=async()=>{try{let e=await fetch("https://kv.peterxcli.workers.dev",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:JSON.stringify(l)})}),r=await e.json();h(r.key),alert("Data exported. Enter Code on another device.\nCode: "+r.key+". \nThis code will only be valid for 2 hours.")}catch(e){console.error("Error:",e)}},p=async e=>{try{let r=await fetch("https://kv.peterxcli.workers.dev/".concat(e)),t=await r.json(),a=JSON.parse(t.data);"object"==typeof a&&null!==a&&Object.values(a).every(e=>"object"==typeof e&&null!==e&&Object.values(e).every(e=>Array.isArray(e)&&e.every(_)))?(c(a),alert("Data imported.")):alert("the data fetch from the key has broken.")}catch(e){console.error("Error:",e),alert("The six-digit key does not exist or has expired.")}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(b.Z,{open:r,onClose:s,children:[(0,a.jsx)(k.Z,{children:"Choose an action"}),(0,a.jsx)(N.Z,{children:(0,a.jsx)(S.Z,{children:"Choose to export or import your data."})}),(0,a.jsxs)(G.Z,{children:[(0,a.jsx)(o.Z,{onClick:()=>{d("export"),x(),s()},children:"Export"}),(0,a.jsx)(o.Z,{onClick:()=>{d("import"),t()},children:"Import"})]})]}),"import"===i&&(0,a.jsxs)(b.Z,{open:r,onClose:s,children:[(0,a.jsx)(k.Z,{children:"Enter your six-digit code"}),(0,a.jsx)(N.Z,{children:(0,a.jsx)(D.Z,{autoFocus:!0,margin:"dense",label:"Six-digit code",type:"text",onChange:e=>h(e.target.value)})}),(0,a.jsx)(G.Z,{children:(0,a.jsx)(o.Z,{onClick:()=>{p(u),s()},children:"Import"})})]})]})},F=()=>{(0,u.Z)();let e=(0,i.useRouter)(),[r,t]=(0,n.useState)(new Date().getFullYear()),[h,x]=(0,n.useState)("Spring"),[p,j]=(0,n.useState)(!1),{records:y,overwriteRecords:m}=(0,d.q)(),f=(r,t,a)=>{r.preventDefault(),e.push("/".concat(t,"/").concat(a))};return(0,a.jsxs)(s.Z,{children:[(0,a.jsxs)("div",{className:C().header,children:[(0,a.jsx)("h1",{children:"Calculate NCKU GPA"}),(0,a.jsx)(o.Z,{color:"primary",variant:"contained",onClick:()=>{j(!0)},children:"Migrate Data Between Different Device"}),(0,a.jsx)(E,{modalOpen:p,handleOpen:()=>{j(!0)},handleClose:()=>{j(!1)},current_data:y,overwriteRecordFunc:m})]}),Array.from(Object.entries(y)).map(e=>Array.from(Object.entries(e[1])).map(r=>(0,a.jsx)("div",{children:(0,a.jsxs)("form",{onSubmit:t=>f(t,e[0],r[0]),className:C().form,children:[(0,a.jsx)(l.Z,{className:C().select,disabled:!0,value:e[0],MenuProps:{PaperProps:{style:{maxHeight:"200px"}}},children:[...Array(20)].map((e,r)=>(0,a.jsx)(c.Z,{value:new Date().getFullYear()-r,children:new Date().getFullYear()-r},(0,u.Z)()))}),(0,a.jsxs)(l.Z,{className:C().select,disabled:!0,value:r[0],children:[(0,a.jsx)(c.Z,{value:"Spring",children:"Spring"}),(0,a.jsx)(c.Z,{value:"Fall",children:"Fall"})]}),(0,a.jsx)(o.Z,{type:"submit",children:"Edit"})]})},(0,u.Z)()))),(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e.push("/".concat(r,"/").concat(h))},className:C().form,children:[(0,a.jsx)(l.Z,{className:C().select,value:r,onChange:e=>t(e.target.value),MenuProps:{PaperProps:{style:{maxHeight:"200px"}}},children:[...Array(20)].map((e,r)=>(0,a.jsx)(c.Z,{value:new Date().getFullYear()-r,children:new Date().getFullYear()-r},r))}),(0,a.jsxs)(l.Z,{className:C().select,value:h,onChange:e=>x(e.target.value),children:[(0,a.jsx)(c.Z,{value:"Spring",children:"Spring"}),(0,a.jsx)(c.Z,{value:"Fall",children:"Fall"})]}),(0,a.jsx)(o.Z,{type:"submit",children:"Select"})]}),(0,a.jsx)("div",{className:C()["score-chart-container"],children:(0,a.jsx)(w,{records:y})}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{className:C()["separate-line"]}),(0,a.jsx)("h1",{children:"成功大學 GPA 計算工具 | National Cheng Kung University GPA Calculator"}),(0,a.jsx)("p",{children:"提供一個能夠在裝置上永久儲存你的成績資料的網站的成功大學 GPA 計算工具，選擇學期，只需輸入你的成績，工具將快速計算你的 GPA。此 GPA 計算機使用104年後的新標準計算，請特別注意。"}),(0,a.jsx)("p",{children:"Offering a National Cheng Kung University GPA calculator that allows you to permanently save your grade data on your device. Choose the semester, simply input your grades, and the tool will quickly calculate your GPA. Please note that this GPA calculator uses the new standard calculation after 2015."}),(0,a.jsx)("br",{}),(0,a.jsx)("p",{children:"加這一大長串是想順便玩一下 seo ㄟ嘿"})]})};var O=()=>{let[e,r]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{r(!1)},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x(),{children:[(0,a.jsx)("title",{children:"成功大學 GPA 計算工具 | National Cheng Kung University GPA Calculator"}),(0,a.jsx)("meta",{name:"description",content:"提供一個能夠在裝置上永久儲存你的成績資料的網站的成功大學 GPA 計算工具，選擇學期，只需輸入你的成績，工具將快速計算你的 GPA。此 GPA 計算機使用104年後的新標準計算，請特別注意 | Offering a National Cheng Kung University GPA calculator that allows you to permanently save your grade data on your device. Choose the semester, simply input your grades, and the tool will quickly calculate your GPA. Please note that this GPA calculator uses the new standard calculation after 2015."})]}),!e&&(0,a.jsx)(F,{})]})}},9583:function(e,r,t){"use strict";t.d(r,{q:function(){return o}});var a=t(4529),n=t(782);let s=e=>({records:{},addCourse:(r,t,a)=>e(e=>{var n,s;let o=null!==(n=e.records[r])&&void 0!==n?n:{},l=null!==(s=o[t])&&void 0!==s?s:[];return l.push(a),o[t]=l,{records:{...e.records,[r]:o}}}),updateCourse:(r,t,a,n)=>e(e=>{let s=e.records[r],o=s[t],l=o.findIndex(e=>e.id===a);o[l]=n,s[t]=o;let c={...e.records,[r]:s};return{records:c}}),removeCourse:(r,t,a)=>e(e=>{let n=e.records[r],s=n[t],o=s.findIndex(e=>e.id===a);s.splice(o,1),n[t]=s;let l={...e.records,[r]:n};return{records:l}}),overwriteRecords:r=>e(()=>({records:r}))}),o=(0,a.Ue)()((0,n.mW)((0,n.tJ)(function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return{...s(...r)}},{name:"gpa-calculator"})))},7446:function(e,r,t){"use strict";t.d(r,{F:function(){return n},_:function(){return a}});let a=e=>e>=90?4.3:e>=85?4:e>=80?3.7:e>=77?3.3:e>=73?3:e>=70?2.7:e>=67?2.3:e>=63?2:e>=60?1.7:e>=50?1:0,n=e=>{console.log(e);let r=0,t=0;return(e.forEach(e=>{r+=a(e.score)*e.credit,t+=e.credit}),console.log(r,t),0===t)?0:r/t}},7281:function(e){e.exports={header:"index_header__8k7Yb",form:"index_form__0iSqz",select:"index_select__zbZhD","score-chart-container":"index_score-chart-container__wKWN4","separate-line":"index_separate-line__i7GAb"}}},function(e){e.O(0,[529,661,52,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);